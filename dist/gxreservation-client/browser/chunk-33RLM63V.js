import{a as le,b as T,c as E,d as de,e as ce,f as me}from"./chunk-AI3N5LVG.js";import{A as G,E as $,g as oe,i as V,l as re,m as ae,o as se,q as N,t as A,y as H,z as B}from"./chunk-EZNS3YT4.js";import{$b as K,Ac as S,Bb as t,Cb as i,Cc as R,Db as m,Gb as y,Jb as _,Kb as g,Rb as I,Sb as l,Tb as v,Ua as a,Ub as w,Vb as F,Wb as L,Xb as D,Yb as U,_a as b,_b as ne,a as X,ac as Q,b as Z,bc as z,eb as P,ga as h,gc as ie,ha as C,ia as p,ib as ee,ja as f,jb as u,tb as j,ub as c,wb as M,xb as te,zc as k}from"./chunk-OMH7EPKG.js";function he(o,n){if(o&1&&(t(0,"option",29),l(1),i()),o&2){let e=n.$implicit;c("value",e.value),a(),v(e.label)}}function Ce(o,n){o&1&&(t(0,"div",30),m(1,"div",31),t(2,"p"),l(3,"Loading rooms..."),i()())}function we(o,n){if(o&1&&(t(0,"span"),l(1),i()),o&2){let e=g().$implicit;a(),F(" Occupied ",e.occupiedTime.start," - ",e.occupiedTime.end," ")}}function ye(o,n){o&1&&l(0,"Available all day")}function Me(o,n){if(o&1&&(t(0,"div",59)(1,"span"),l(2),i()()),o&2){let e=g().$implicit;a(),M("fully-available",e.availabilityStatus==="fully")("partially-available",e.availabilityStatus==="partially"),a(),w(" ",e.availabilityStatus==="fully"?"Fully available":"Partially available"," next 7 days ")}}function Oe(o,n){if(o&1){let e=y();t(0,"div",35)(1,"div",36)(2,"h3"),l(3),i(),t(4,"div",37),p(),t(5,"svg",38),m(6,"circle",39),i(),f(),t(7,"span"),l(8),i()()(),t(9,"div",40)(10,"div",41),p(),t(11,"svg",42),m(12,"path",43)(13,"circle",44),i(),f(),t(14,"span"),l(15),i()(),t(16,"div",41),p(),t(17,"svg",42),m(18,"path",45)(19,"polyline",46),i(),f(),t(20,"span"),l(21),i()(),t(22,"div",47),p(),t(23,"svg",48),m(24,"circle",39)(25,"polyline",49),i(),u(26,we,2,2,"span",50)(27,ye,1,0,"ng-template",null,0,z),i(),u(29,Me,3,5,"div",51),i(),f(),t(30,"div",52)(31,"div",53)(32,"button",54),_("click",function(){let s=h(e).$implicit,d=g(2);return C(d.navigateToReservationForm(s.id))}),p(),t(33,"svg",38),m(34,"rect",55)(35,"line",56)(36,"line",57)(37,"line",58),i(),l(38," Book "),i()()()()}if(o&2){let e=n.$implicit,r=I(28),s=g(2);a(3),v(e.name),a(),j("data-status",e.reservationCount===0?"Available":"Booked"),a(4),v(e.reservationCount===0?"Available":"Booked"),a(7),v(e.building),a(6),w("Floor ",e.floor,""),a(5),c("ngIf",e.occupiedTime)("ngIfElse",r),a(3),c("ngIf",s.filterOption==="has-availability-week"||s.filterOption==="fully-available-week")}}function Pe(o,n){o&1&&(t(0,"div",60),p(),t(1,"svg",61),m(2,"path",62)(3,"line",63)(4,"line",64),i(),f(),t(5,"h3"),l(6,"No rooms available"),i(),t(7,"p"),l(8,"Try adjusting your search criteria"),i()())}function ke(o,n){if(o&1&&(t(0,"div",32),u(1,Oe,39,8,"div",33)(2,Pe,9,0,"div",34),i()),o&2){let e=g();a(),c("ngForOf",e.filteredRooms),a(),c("ngIf",e.filteredRooms.length===0)}}var W=class o{constructor(n,e,r){this.roomService=n;this.reservationService=e;this.router=r}allRooms=[];filteredRooms=[];searchTerm="";filterOption="all";isLoading=!0;today=new Date().toISOString().split("T")[0];allReservations=[];filterOptions=[{value:"all",label:"All Rooms"},{value:"today",label:"Available Today"},{value:"fully-available-week",label:"Fully Available Next 7 Days"},{value:"has-availability-week",label:"Has Availability Next 7 Days"}];ngOnInit(){this.loadRooms()}loadRooms(){this.roomService.getAllRooms().subscribe({next:n=>{this.allRooms=n,this.loadReservations()},error:n=>{console.error("Error loading rooms:",n),this.isLoading=!1}})}loadReservations(){this.reservationService.getAllReservations().subscribe({next:n=>{this.allReservations=n,this.applyFilters(),this.isLoading=!1},error:n=>{console.error("Error loading reservations:",n),this.allReservations=[],this.applyFilters(),this.isLoading=!1}})}getTodayReservationsForRoom(n){return this.allReservations.filter(e=>e.roomId===n&&e.status==="Approved"&&e.startDate===this.today)}formatOccupiedTime(n){if(n.length===0)return null;let e=[...n].sort((d,x)=>d.timeStart.localeCompare(x.timeStart)),r=e[0].timeStart,s=this.calculateEndTime(e[e.length-1].timeStart,e[e.length-1].timeDuration);return{start:r,end:s}}calculateEndTime(n,e){let[r,s]=n.split(":").map(Number),d=parseInt(e.split(":")[0],10),x=r+d;return x>=24&&(x-=24),`${x.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}getRoomAvailabilityStatus(n){let e=new Date(this.today),r=new Date(e);r.setDate(e.getDate()+7);let s=this.allReservations.filter(x=>x.roomId===n&&x.status==="Approved"&&new Date(x.startDate)<=r&&new Date(x.endDate)>=e);if(s.length===0)return"fully";let d=new Set;return s.forEach(x=>{let J=new Date(x.startDate),xe=new Date(x.endDate);for(let O=new Date(J);O<=xe;O.setDate(O.getDate()+1))O<=r&&O>=e&&d.add(O.toISOString().split("T")[0])}),d.size>=7?"unavailable":"partially"}applyFilters(){let n=this.allRooms.map(e=>{let r=this.getTodayReservationsForRoom(e.id),s=this.formatOccupiedTime(r),d=this.getRoomAvailabilityStatus(e.id);return Z(X({},e),{todayReservations:r,occupiedTime:s,availabilityStatus:d,reservationCount:r.length})});switch(this.searchTerm&&(n=n.filter(e=>e.name.toLowerCase().includes(this.searchTerm.toLowerCase())||e.building.toLowerCase().includes(this.searchTerm.toLowerCase())||e.floor.toString().includes(this.searchTerm))),this.filterOption){case"today":n=n.filter(e=>e.reservationCount===0);break;case"fully-available-week":n=n.filter(e=>e.availabilityStatus==="fully");break;case"has-availability-week":n=n.filter(e=>e.availabilityStatus!=="unavailable");break}this.filteredRooms=n}onSearchChange(){this.applyFilters()}onFilterChange(){this.applyFilters()}navigateToReservationForm(n){this.router.navigate(["rooms",n])}static \u0275fac=function(e){return new(e||o)(b(E),b(T),b(V))};static \u0275cmp=P({type:o,selectors:[["app-user-room-lists"]],decls:31,vars:5,consts:[["availableAllDay",""],[1,"room-list-wrapper"],[1,"room-list-container"],[1,"calendar-header"],[1,"calendar-title"],[1,"highlight"],[1,"header-right"],[1,"search-section"],[1,"search-box"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"search-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","Search rooms...",3,"ngModelChange","input","ngModel"],[1,"filter-section"],[1,"filter-box"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"filter-icon"],["x1","4","y1","21","x2","4","y2","14"],["x1","4","y1","10","x2","4","y2","3"],["x1","12","y1","21","x2","12","y2","12"],["x1","12","y1","8","x2","12","y2","3"],["x1","20","y1","21","x2","20","y2","16"],["x1","20","y1","12","x2","20","y2","3"],["x1","1","y1","14","x2","7","y2","14"],["x1","9","y1","8","x2","15","y2","8"],["x1","17","y1","16","x2","23","y2","16"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],["class","room-cards-container",4,"ngIf"],[3,"value"],[1,"loading-indicator"],[1,"spinner"],[1,"room-cards-container"],["class","room-card",4,"ngFor","ngForOf"],["class","no-rooms-message",4,"ngIf"],[1,"room-card"],[1,"card-header"],[1,"room-status"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10"],[1,"card-body"],[1,"room-detail"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"detail-icon"],["d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"],["cx","12","cy","10","r","3"],["d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],[1,"reservation-count"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"clock-icon"],["points","12 6 12 12 16 14"],[4,"ngIf","ngIfElse"],["class","week-availability",4,"ngIf"],[1,"card-footer"],[1,"action-buttons"],[1,"action-button","calendar-button",3,"click"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],[1,"week-availability"],[1,"no-rooms-message"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"]],template:function(e,r){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),l(4,"Reserve Meeting "),t(5,"span",5),l(6,"Room"),i(),l(7," Now!"),i(),t(8,"div",6)(9,"div",7)(10,"div",8),p(),t(11,"svg",9),m(12,"circle",10)(13,"line",11),i(),f(),t(14,"input",12),U("ngModelChange",function(d){return D(r.searchTerm,d)||(r.searchTerm=d),d}),_("input",function(){return r.onSearchChange()}),i()()(),t(15,"div",13)(16,"div",14),p(),t(17,"svg",15),m(18,"line",16)(19,"line",17)(20,"line",18)(21,"line",19)(22,"line",20)(23,"line",21)(24,"line",22)(25,"line",23)(26,"line",24),i(),f(),t(27,"select",25),U("ngModelChange",function(d){return D(r.filterOption,d)||(r.filterOption=d),d}),_("change",function(){return r.onFilterChange()}),u(28,he,2,2,"option",26),i()()()()(),u(29,Ce,4,0,"div",27)(30,ke,3,2,"div",28),i()()),e&2&&(a(14),L("ngModel",r.searchTerm),a(13),L("ngModel",r.filterOption),a(),c("ngForOf",r.filterOptions),a(),c("ngIf",r.isLoading),a(),c("ngIf",!r.isLoading))},dependencies:[R,k,S,$,B,G,se,H,N,A],styles:[".room-list-wrapper[_ngcontent-%COMP%]{background:transparent;width:100%;padding:1rem}.room-list-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;width:100%;max-width:1600px;margin:0 auto;background:#212529d9;border-radius:24px;box-shadow:0 8px 32px #0000002e,inset 0 0 0 1px #ffffff1a;padding:2rem;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.08);color:#f8f9fa}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(255,255,255,.1);flex-wrap:wrap;gap:1rem}.calendar-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0;background:linear-gradient(90deg,#93c5fd,#a5b4fc);-webkit-background-clip:text;background-clip:text;color:transparent;position:relative;padding-right:2rem}.highlight[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f472b6,#f9a8d4);-webkit-background-clip:text;background-clip:text;color:transparent}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex-wrap:wrap}.search-section[_ngcontent-%COMP%]{flex:2;min-width:250px;max-width:400px}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 3rem;background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:50px;color:#fff;font-size:.95rem;transition:all .3s cubic-bezier(.4,0,.2,1);font-weight:500}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#adb5bd;font-weight:400}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680;border-color:#3b82f680}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#adb5bd;stroke-width:2.5px}.filter-section[_ngcontent-%COMP%]{flex:1;min-width:250px;max-width:300px}.filter-box[_ngcontent-%COMP%]{position:relative}.filter-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 3rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:50px;color:#fff;font-size:.95rem;transition:all .3s cubic-bezier(.4,0,.2,1);appearance:none;font-weight:500;cursor:pointer}.filter-box[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#212529f2;color:#fff;padding:10px}.filter-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680;border-color:#3b82f680}.filter-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#adb5bd;stroke-width:2.5px;z-index:2}.loading-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;background:#00000040;border-radius:16px;margin:2rem 0;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08)}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.1);border-top-color:#93c5fd;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1.5rem}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#adb5bd;font-size:1.1rem;margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.room-cards-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;margin-top:1rem}.room-card[_ngcontent-%COMP%]{background:#00000040;border-radius:16px;padding:1.75rem;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08);transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 6px #0000000d}.room-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #0003;border-color:#ffffff26}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:600;margin:0;color:#f8f9fa}.room-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:50px;font-size:.85rem;font-weight:500;background:#0000004d;border:1px solid rgba(255,255,255,.1);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.room-status[data-status=Available][_ngcontent-%COMP%]{color:#10b981}.room-status[data-status=Available][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#10b981}.room-status[data-status=Booked][_ngcontent-%COMP%]{color:#ef4444}.room-status[data-status=Booked][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#ef4444}.room-status[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5px}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.room-detail[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#adb5bd;font-size:.95rem}.detail-icon[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2px;color:#93c5fd}.reservation-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1);color:#f8f9fa;font-size:.95rem;font-weight:500}.clock-icon[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2px;color:#a5b4fc}.week-availability[_ngcontent-%COMP%]{margin-top:10px;padding:5px;border-radius:4px;font-size:.9em}.week-availability[_ngcontent-%COMP%]   .fully-available[_ngcontent-%COMP%]{color:#2e7d32;background-color:#2e7d321a}.week-availability[_ngcontent-%COMP%]   .partially-available[_ngcontent-%COMP%]{color:#ff8f00;background-color:#ff8f001a}.card-footer[_ngcontent-%COMP%]{margin-top:1.75rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.75rem}.action-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.5rem 1rem;border-radius:50px;border:none;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);background:#ffffff1a;color:#fff;font-weight:500;gap:.5rem}.action-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #00000026}.action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2.5px}.calendar-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.calendar-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8)}.no-rooms-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;grid-column:1 / -1;padding:4rem;background:#00000040;border-radius:16px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08)}.no-rooms-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:#64748b;margin-bottom:1.5rem;stroke-width:1.5px}.no-rooms-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;margin-bottom:.5rem;font-weight:600}.no-rooms-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#adb5bd;margin:0;font-size:1rem}@media (max-width: 1024px){.room-list-container[_ngcontent-%COMP%]{padding:1.5rem}.room-cards-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 768px){.calendar-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1.5rem}.header-right[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:1rem}.search-section[_ngcontent-%COMP%], .filter-section[_ngcontent-%COMP%]{width:100%;max-width:100%}}@media (max-width: 480px){.room-list-wrapper[_ngcontent-%COMP%]{padding:.5rem}.room-list-container[_ngcontent-%COMP%]{padding:1.25rem;border-radius:16px}.calendar-title[_ngcontent-%COMP%]{font-size:1.75rem}.room-card[_ngcontent-%COMP%]{padding:1.5rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.action-button[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var Se=()=>[0,1,2,3,4,5,6];function Re(o,n){if(o&1&&(t(0,"option",40),l(1),i()),o&2){let e=n.$implicit,r=g();c("value",e.id)("selected",e.id===r.roomId),a(),F(" ",e.name," (Floor ",e.floor,") ")}}function Te(o,n){if(o&1&&(t(0,"div",41),l(1),i()),o&2){let e=n.$implicit,r=g();a(),v(r.getDayName(e))}}function Ee(o,n){if(o&1&&(t(0,"span",47),l(1),i()),o&2){let e=g().$implicit;a(),v(e.date)}}function Ie(o,n){o&1&&(t(0,"span",48),p(),t(1,"svg",14),m(2,"rect",49)(3,"line",50)(4,"line",51)(5,"line",52),i()())}function Fe(o,n){if(o&1){let e=y();t(0,"div",44),_("click",function(){let s=h(e).$implicit,d=g(2);return C(d.selectDay(s))}),u(1,Ee,2,1,"span",45)(2,Ie,6,0,"span",46),i()}if(o&2){let e=n.$implicit,r=g(2);M("empty",e.date===null)("today",r.isToday(e.date))("reserved",e.isReserved)("selected",r.isSelected(e.date)),a(),c("ngIf",e.date!==null),a(),c("ngIf",e.isReserved&&e.date!==null)}}function Le(o,n){if(o&1&&(t(0,"div",42),u(1,Fe,3,10,"div",43),i()),o&2){let e=n.$implicit;a(),c("ngForOf",e)}}function De(o,n){if(o&1){let e=y();t(0,"app-calendar-reservation-form",53),_("formSubmit",function(s){h(e);let d=g();return C(d.handleReservationSubmit(s))})("cancel",function(){h(e);let s=g();return C(s.showReservationForm=!1)}),i()}if(o&2){let e=g();c("room",e.room)("minDate",e.minDate)}}function Ue(o,n){if(o&1&&(t(0,"div",62)(1,"div",63)(2,"h3"),l(3,"Room Booked"),i(),t(4,"span",64),l(5),i()(),t(6,"div",65),l(7),K(8,"timeFormat"),K(9,"timeFormat"),i()()),o&2){let e=n.$implicit,r=g(4);a(4),M("status-approved",e.status==="Approved")("status-pending",e.status==="Pending")("status-denied",e.status==="Denied"),a(),w(" ",e.status||"Approved"," "),a(2),F(" ",Q(8,9,e.timeStart)," - ",Q(9,11,r.getEndTime(e.timeStart,e.timeDuration))," ")}}function ze(o,n){if(o&1&&(t(0,"div",60),u(1,Ue,10,13,"div",61),i()),o&2){let e=g(3);a(),c("ngForOf",e.selectedDayReservations)}}function je(o,n){o&1&&(t(0,"div",66),p(),t(1,"svg",67),m(2,"rect",49)(3,"line",50)(4,"line",51)(5,"line",52)(6,"line",68)(7,"line",69),i(),f(),t(8,"h3"),l(9,"No Reservations"),i(),t(10,"p"),l(11,"This day has no scheduled bookings"),i()())}function Ve(o,n){if(o&1){let e=y();t(0,"div",55)(1,"div",56)(2,"h2"),l(3),i(),t(4,"div",57)(5,"button",58),_("click",function(){h(e);let s=g(2);return C(s.goToToday())}),l(6,"Today"),i()()(),u(7,ze,2,1,"div",59)(8,je,12,0,"ng-template",null,1,z),i()}if(o&2){let e=I(9),r=g(2);a(3),v(r.formatSelectedDate()),a(4),c("ngIf",r.selectedDayReservations.length>0)("ngIfElse",e)}}function Ne(o,n){o&1&&(t(0,"div",70),p(),t(1,"svg",67),m(2,"rect",49)(3,"line",50)(4,"line",51)(5,"line",52)(6,"line",68)(7,"line",69),i(),f(),t(8,"h3"),l(9,"Select a Date"),i(),t(10,"p"),l(11,"Click on any date to view bookings"),i()())}function Ae(o,n){if(o&1&&(t(0,"div"),u(1,Ve,10,3,"div",54)(2,Ne,12,0,"ng-template",null,0,z),i()),o&2){let e=I(3),r=g();a(),c("ngIf",r.selectedDay)("ngIfElse",e)}}var Y=class o extends de{constructor(e,r,s,d,x,J){super(e,r,s,d,x,J);this.reservationService=e;this.route=r;this.roomService=s;this.changeDetectorRef=d;this.router=x;this.toastr=J}getCalendarTitle(){return"Room Calendar"}getBaseRoute(){return"/rooms"}static \u0275fac=function(r){return new(r||o)(b(T),b(oe),b(E),b(ie),b(V),b(ae))};static \u0275cmp=P({type:o,selectors:[["app-user-calendar"]],features:[ee],decls:51,vars:12,consts:[["selectPrompt",""],["noReservations",""],[1,"calendar-wrapper"],[1,"calendar-container"],[1,"calendar-header"],[1,"calendar-title"],[1,"header-right"],[1,"room-info"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"room-icon"],["d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],[1,"floor-info"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"floor-icon"],[1,"room-status"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10"],[1,"room-selector"],[1,"room-dropdown",3,"change"],["value","","disabled","","selected",""],[3,"value","selected",4,"ngFor","ngForOf"],[1,"calendar-layout"],[1,"calendar-side"],[1,"calendar-nav"],[1,"nav-button","prev",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],[1,"month-year"],[1,"nav-button","next",3,"click"],["points","9 18 15 12 9 6"],[1,"calendar-grid"],[1,"day-names"],["class","day-name",4,"ngFor","ngForOf"],["class","week",4,"ngFor","ngForOf"],[1,"details-side"],[3,"room","minDate","formSubmit","cancel",4,"ngIf"],[4,"ngIf"],[1,"add-reservation-container"],[1,"add-reservation-button",3,"click"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[3,"value","selected"],[1,"day-name"],[1,"week"],["class","day",3,"empty","today","reserved","selected","click",4,"ngFor","ngForOf"],[1,"day",3,"click"],["class","date-number",4,"ngIf"],["class","reserved-badge",4,"ngIf"],[1,"date-number"],[1,"reserved-badge"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],[3,"formSubmit","cancel","room","minDate"],["class","day-details-view",4,"ngIf","ngIfElse"],[1,"day-details-view"],[1,"day-header"],[1,"day-actions"],[1,"today-button",3,"click"],["class","reservations-list",4,"ngIf","ngIfElse"],[1,"reservations-list"],["class","reservation-card",4,"ngFor","ngForOf"],[1,"reservation-card"],[1,"reservation-header"],[1,"reservation-status"],[1,"reservation-time"],[1,"no-reservations"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["x1","10","y1","14","x2","14","y2","14"],["x1","12","y1","12","x2","12","y2","16"],[1,"select-day-prompt"]],template:function(r,s){r&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),l(4),i(),t(5,"div",6)(6,"div",7),p(),t(7,"svg",8),m(8,"path",9)(9,"polyline",10),i(),f(),t(10,"span"),l(11),i()(),t(12,"div",11),p(),t(13,"svg",12),m(14,"path",9),i(),f(),t(15,"span"),l(16),i()(),t(17,"div",13),p(),t(18,"svg",14),m(19,"circle",15),i(),f(),t(20,"span"),l(21),i()(),t(22,"div",16)(23,"select",17),_("change",function(x){return s.onRoomChange(x)}),t(24,"option",18),l(25,"Select a room"),i(),u(26,Re,2,4,"option",19),i()()()(),t(27,"div",20)(28,"div",21)(29,"div",22)(30,"button",23),_("click",function(){return s.previousMonth()}),p(),t(31,"svg",24),m(32,"polyline",25),i()(),f(),t(33,"h2",26),l(34),i(),t(35,"button",27),_("click",function(){return s.nextMonth()}),p(),t(36,"svg",24),m(37,"polyline",28),i()()(),f(),t(38,"div",29)(39,"div",30),u(40,Te,2,1,"div",31),i(),u(41,Le,2,1,"div",32),i()(),t(42,"div",33),u(43,De,1,2,"app-calendar-reservation-form",34)(44,Ae,4,2,"div",35),i()(),t(45,"div",36)(46,"button",37),_("click",function(){return s.showAddReservationForm()}),p(),t(47,"svg",14),m(48,"line",38)(49,"line",39),i(),l(50," Add Reservation "),i()()()()),r&2&&(a(4),v(s.getCalendarTitle()),a(7),v(s.room==null?null:s.room.name),a(5),w("Floor ",s.room==null?null:s.room.floor,""),a(),j("data-status",(s.room==null?null:s.room.status)||"Available"),a(4),w("Status: ",(s.room==null?null:s.room.status)||"Available",""),a(5),c("ngForOf",s.rooms),a(8),v(s.getMonthName()),a(6),c("ngForOf",ne(11,Se)),a(),c("ngForOf",s.weeks),a(2),c("ngIf",s.showReservationForm),a(),c("ngIf",!s.showReservationForm))},dependencies:[R,k,S,ce,me],styles:[`.calendar-wrapper[_ngcontent-%COMP%]{background:transparent;width:100%;padding:1rem}.calendar-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;width:100%;max-width:1600px;margin:0 auto;background:#212529d9;border-radius:24px;box-shadow:0 8px 32px #0000002e,inset 0 0 0 1px #ffffff1a;padding:2rem;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.08);min-height:800px;grid-template-rows:auto 1fr auto;color:#f8f9fa}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(255,255,255,.1);flex-wrap:wrap;gap:1rem}.calendar-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0;background:linear-gradient(90deg,#93c5fd,#a5b4fc);-webkit-background-clip:text;background-clip:text;color:transparent;position:relative;padding-right:2rem}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.room-info[_ngcontent-%COMP%], .floor-info[_ngcontent-%COMP%], .room-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#0000004d;padding:.5rem 1rem;border-radius:50px;font-weight:500;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.1);font-size:.9rem}.room-icon[_ngcontent-%COMP%], .floor-icon[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2.5px}.room-status[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5px}.room-status[data-status=Available][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#10b981}.room-status[data-status=Maintenance][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#f59e0b}.room-status[data-status=Occupied][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#ef4444}.room-status[data-status=Reserved][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#3b82f6}.room-selector[_ngcontent-%COMP%]{min-width:200px}.room-dropdown[_ngcontent-%COMP%]{background:#0000004d;color:#fff;border:1px solid rgba(255,255,255,.1);padding:.5rem 2rem .5rem 1rem;border-radius:50px;font-weight:500;width:100%;cursor:pointer;transition:all .2s;appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem}.room-dropdown[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680}.calendar-layout[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr;gap:2rem;height:100%}.calendar-side[_ngcontent-%COMP%]{background:#00000040;border-radius:20px;box-shadow:0 8px 32px #0000002e,inset 0 0 0 1px #ffffff1a;padding:1.5rem;display:flex;flex-direction:column;height:100%;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08)}.details-side[_ngcontent-%COMP%]{background:#00000040;border-radius:20px;box-shadow:0 8px 32px #0000002e,inset 0 0 0 1px #ffffff1a;padding:2rem;display:flex;flex-direction:column;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08);height:100%}.calendar-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.month-year[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;font-weight:600;margin:0}.nav-button[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.1);width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;color:#f8f9fa;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.nav-button[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}.nav-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5px}.calendar-grid[_ngcontent-%COMP%]{flex:1;min-height:0;display:flex;flex-direction:column;width:100%}.day-names[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);margin-bottom:1rem;gap:.5rem}.day-name[_ngcontent-%COMP%]{text-align:center;color:#adb5bd;font-weight:600;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px;padding:.5rem 0}.week[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:.5rem;margin-bottom:.5rem;flex:1}.day[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:12px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;padding-bottom:100%;background:#ffffff0d;border:1px solid rgba(255,255,255,.05);justify-content:flex-start}.day.empty[_ngcontent-%COMP%]{background:transparent;border-color:transparent;cursor:default}.date-number[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#f8f9fa;margin:0;width:100%;padding:.25rem 0;position:absolute;top:.25rem;left:0;right:0;text-align:center}.day[_ngcontent-%COMP%]:hover:not(.empty){background:#ffffff1a;transform:scale(1.05)}.day.today[_ngcontent-%COMP%]   .date-number[_ngcontent-%COMP%]{color:#93c5fd;font-weight:700}.day.today[_ngcontent-%COMP%]:before{content:"";position:absolute;top:5px;right:5px;width:6px;height:6px;background:#93c5fd;border-radius:50%}.day.reserved[_ngcontent-%COMP%]{background:#fb717126}.day.reserved[_ngcontent-%COMP%]   .date-number[_ngcontent-%COMP%]{color:#ff8787;font-weight:600}.day.selected[_ngcontent-%COMP%]{background:#3b82f64d;transform:scale(1.05);box-shadow:0 4px 12px #1971c233;border-color:#93c5fd4d}.day.selected[_ngcontent-%COMP%]   .date-number[_ngcontent-%COMP%]{color:#fff}.reserved-badge[_ngcontent-%COMP%]{background:#ff6b6be6;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:absolute;bottom:.5rem;right:.5rem}.reserved-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;color:#fff;stroke-width:2.5px}.day.selected[_ngcontent-%COMP%]   .reserved-badge[_ngcontent-%COMP%]{background:#fff}.day.selected[_ngcontent-%COMP%]   .reserved-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ff6b6b}.day-details-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.day-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.day-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;font-weight:600;margin:0}.today-button[_ngcontent-%COMP%]{background:transparent;color:#93c5fd;border:1px solid rgba(147,197,253,.5);padding:.35rem 1rem;border-radius:50px;font-weight:500;cursor:pointer;transition:all .2s;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.today-button[_ngcontent-%COMP%]:hover{background:#93c5fd1a}.reservations-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;overflow-y:auto;padding-right:.5rem}.reservation-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:12px;padding:1.25rem;transition:all .3s ease;border-left:4px solid #3b82f6;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.reservation-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.reservation-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.1rem;font-weight:600;margin:0}.reservation-time[_ngcontent-%COMP%]{color:#adb5bd;font-size:.95rem;font-weight:500}.reservation-status[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;padding:.25rem .75rem;border-radius:50px;text-transform:uppercase;letter-spacing:.5px}.status-approved[_ngcontent-%COMP%]{background:#10b98126;color:#10b981;border:1px solid rgba(16,185,129,.3)}.status-pending[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b;border:1px solid rgba(245,158,11,.3)}.status-denied[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.no-reservations[_ngcontent-%COMP%], .select-day-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:100%;padding:2rem;color:#adb5bd}.no-reservations[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .select-day-prompt[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#495057;margin-bottom:1.5rem;opacity:.7}.no-reservations[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .select-day-prompt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;margin-bottom:.5rem;font-weight:600}.no-reservations[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .select-day-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;max-width:300px;line-height:1.5}.add-reservation-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1.5rem}.add-reservation-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-top:1px solid rgba(255,255,255,.1);grid-row:3;padding:.75rem 1.5rem;border-radius:50px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:.5rem;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 6px #0000001a;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.add-reservation-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 12px #00000026}.add-reservation-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:3px}@media (min-width: 1024px){.calendar-layout[_ngcontent-%COMP%]{grid-template-columns:650px 1fr}.calendar-header[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{flex-wrap:nowrap}}@media (max-width: 768px){.calendar-container[_ngcontent-%COMP%]{padding:1.5rem}.day[_ngcontent-%COMP%]{padding-bottom:80%}.calendar-title[_ngcontent-%COMP%]{font-size:1.75rem}.header-right[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.day-name[_ngcontent-%COMP%]{font-size:.8rem}.date-number[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.calendar-container[_ngcontent-%COMP%]{padding:1rem;border-radius:16px}.calendar-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header-right[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.room-info[_ngcontent-%COMP%], .floor-info[_ngcontent-%COMP%], .room-status[_ngcontent-%COMP%], .room-selector[_ngcontent-%COMP%]{width:100%;max-width:100%}.day[_ngcontent-%COMP%]{padding:.25rem}.add-reservation-button[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};function He(o,n){if(o&1){let e=y();t(0,"div",6)(1,"select",7),U("ngModelChange",function(s){h(e);let d=g();return D(d.statusFilter,s)||(d.statusFilter=s),C(s)}),_("change",function(){h(e);let s=g();return C(s.applyFilter())}),t(2,"option",8),l(3,"All Reservations"),i(),t(4,"option",9),l(5,"Pending"),i(),t(6,"option",10),l(7,"Approved"),i(),t(8,"option",11),l(9,"Rejected"),i(),t(10,"option",12),l(11,"No Room"),i()()()}if(o&2){let e=g();a(),L("ngModel",e.statusFilter)}}function Be(o,n){o&1&&(t(0,"div",13),m(1,"div",14),t(2,"p"),l(3,"Loading reservations..."),i()())}function Ge(o,n){o&1&&(t(0,"div",15),p(),t(1,"svg",16),m(2,"path",17)(3,"line",18)(4,"line",19),i(),f(),t(5,"h3"),l(6,"No Reservations Found"),i(),t(7,"p"),l(8,"No reservations match the current filter criteria"),i()())}function $e(o,n){if(o&1&&(t(0,"div",22)(1,"div",23)(2,"h3"),l(3),i(),t(4,"span",24),l(5),i()(),t(6,"div",25)(7,"div",26),p(),t(8,"svg",27),m(9,"rect",28)(10,"line",29)(11,"line",30)(12,"line",31),i(),f(),t(13,"span"),l(14),i()(),t(15,"div",26),p(),t(16,"svg",27),m(17,"circle",32)(18,"polyline",33),i(),f(),t(19,"span"),l(20),i()(),t(21,"div",26),p(),t(22,"svg",27),m(23,"rect",34)(24,"line",35)(25,"line",36),i(),f(),t(26,"span"),l(27),i()(),t(28,"div",26),p(),t(29,"svg",27),m(30,"path",37),i(),f(),t(31,"span"),l(32),i()(),t(33,"div",38),p(),t(34,"svg",27),m(35,"path",39),i(),f(),t(36,"span"),l(37),i()()()()),o&2){let e=n.$implicit,r=g(2);M("pending",e.status==="Pending"),a(3),v(e.name),a(),te(e.status==null?null:e.status.toLowerCase()),a(),w(" ",e.status," "),a(9),v(r.getFormattedDateRange(e)),a(6),v(r.getFormattedTimeRange(e)),a(7),v(r.getRoomName(e.roomId)),a(5),v(r.getDurationDisplay(e.timeDuration)),a(5),v(e.purpose)}}function We(o,n){if(o&1&&(t(0,"div",20),u(1,$e,38,11,"div",21),i()),o&2){let e=g();a(),c("ngForOf",e.filteredReservations)}}var q=class o{constructor(n,e,r){this.reservationService=n;this.roomService=e;this.dateTimeService=r}initialFilter="all";showFilter=!0;reservations=[];filteredReservations=[];rooms=[];isLoading=!0;statusFilter="all";ngOnInit(){this.statusFilter=this.initialFilter,this.loadData()}loadData(){this.isLoading=!0,this.reservationService.getAllReservations().subscribe({next:n=>{this.reservations=n,this.applyFilter(),this.loadRooms()},error:n=>{console.error("Error loading reservations:",n),this.isLoading=!1}})}loadRooms(){this.roomService.getAllRooms().subscribe({next:n=>{this.rooms=n,this.isLoading=!1},error:n=>{console.error("Error loading rooms:",n),this.isLoading=!1}})}applyFilter(){this.statusFilter==="all"?this.filteredReservations=[...this.reservations]:this.statusFilter==="No Room"?this.filteredReservations=this.reservations.filter(n=>this.getRoomName(n.roomId)==="Unknown Room"):this.filteredReservations=this.reservations.filter(n=>n.status===this.statusFilter)}getRoomName(n){let e=this.rooms.find(r=>r.id===n);return e?e.name:"Unknown Room"}getFormattedDateRange(n){let e=this.dateTimeService.formatLongDate(n.startDate),r=this.dateTimeService.formatLongDate(n.endDate);return e===r?e:`${e} to ${r}`}getFormattedTimeRange(n){if(!n.timeStart)return"";let e=this.dateTimeService.formatTimeWithPeriod(n.timeStart),r=this.getDurationHours(n.timeDuration),s=this.dateTimeService.formatTimeWithPeriod(this.dateTimeService.calculateEndTime(n.timeStart,r));return`${e} - ${s}`}getDurationDisplay(n){let e=this.getDurationHours(n);return`${e} Hour${e!==1?"s":""}`}getDurationHours(n){if(typeof n=="number")return n;if(!n)return 0;let e=n.split(":"),r=parseInt(e[0],10);return isNaN(r)?0:r}static \u0275fac=function(e){return new(e||o)(b(T),b(E),b(le))};static \u0275cmp=P({type:o,selectors:[["app-user-reservations-list"]],inputs:{initialFilter:"initialFilter",showFilter:"showFilter"},decls:8,vars:4,consts:[[1,"reservations-list-container"],[1,"header-section"],["class","filter-control",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","reservations-grid",4,"ngIf"],[1,"filter-control"],["id","statusFilter",3,"ngModelChange","change","ngModel"],["value","all"],["value","Pending"],["value","Approved"],["value","Rejected"],["value","No Room"],[1,"loading-state"],[1,"spinner"],[1,"empty-state"],["xmlns","http://www.w3.org/2000/svg","width","80","height","80","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"reservations-grid"],["class","reservation-card",3,"pending",4,"ngFor","ngForOf"],[1,"reservation-card"],[1,"card-header"],[1,"status-badge"],[1,"card-body"],[1,"detail-row"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["x1","3","y1","9","x2","21","y2","9"],["x1","9","y1","21","x2","9","y2","9"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"purpose-row"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),l(3,"My Reservations"),i(),u(4,He,12,1,"div",2),i(),u(5,Be,4,0,"div",3)(6,Ge,9,0,"div",4)(7,We,2,1,"div",5),i()),e&2&&(a(4),c("ngIf",r.showFilter),a(),c("ngIf",r.isLoading),a(),c("ngIf",!r.isLoading&&r.filteredReservations.length===0),a(),c("ngIf",!r.isLoading&&r.filteredReservations.length>0))},dependencies:[R,k,S,re,$,B,G,H,N,A],styles:[`*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.reservations-list-container[_ngcontent-%COMP%]{padding:2.5rem;background:#121212cc;border-radius:24px;box-shadow:0 8px 32px #0000004d,inset 0 0 0 1px #ffffff1a;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.12);color:#fff;min-height:80vh;max-width:1400px;margin:0 auto}.header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2.5rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin:0;background:linear-gradient(90deg,#fff,#a0a0a0);-webkit-background-clip:text;background-clip:text;color:transparent;letter-spacing:-.5px}.filter-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.6rem 2rem .6rem 1.2rem;border-radius:12px;border:none;background-color:#ffffff1a;font-size:.95rem;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;appearance:none;color:#fff;font-weight:500;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1em;box-shadow:0 4px 6px #0000001a;min-width:200px}.filter-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#2d3748;color:#fff}.filter-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;background-color:#ffffff26;box-shadow:0 0 0 2px #fff3}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;gap:1.5rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.1);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;font-weight:500;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;text-align:center;color:#ffffffb3}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ffffff80;margin-bottom:2rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin-bottom:.75rem;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#fff9}.reservations-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:2rem;max-height:70vh;overflow-y:auto;padding:1rem;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.3) transparent}.reservations-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.reservations-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.reservations-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffff4d;border-radius:10px}.reservation-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:20px;padding:2rem;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.1);transition:all .3s cubic-bezier(.4,0,.2,1);color:#fff;box-shadow:0 4px 6px #0000001a}.reservation-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 30px #0000004d;border-color:#fff3;background:#ffffff14}.reservation-card.pending[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem;font-weight:600;margin:0;letter-spacing:-.25px}.status-badge[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;padding:.35rem 1.25rem;border-radius:9999px;text-transform:capitalize;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);box-shadow:0 2px 4px #0000001a}.status-badge.pending[_ngcontent-%COMP%]{background:#f59e0b33;color:#fcd34d;border:1px solid rgba(245,158,11,.4)}.status-badge.approved[_ngcontent-%COMP%]{background:#10b98133;color:#6ee7b7;border:1px solid rgba(16,185,129,.4)}.status-badge.rejected[_ngcontent-%COMP%]{background:#ef444433;color:#fca5a5;border:1px solid rgba(239,68,68,.4)}.status-badge.no\\ room[_ngcontent-%COMP%]{background:#6366f133;color:#a5b4fc;border:1px solid rgba(99,102,241,.4)}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.detail-row[_ngcontent-%COMP%], .purpose-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;color:#fffc;font-size:.95rem}.detail-row[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .purpose-row[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#93c5fd;flex-shrink:0}.purpose-row[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px dashed rgba(255,255,255,.1)}@media (max-width: 768px){.reservations-list-container[_ngcontent-%COMP%]{padding:1.5rem;border-radius:16px}.header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.reservations-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reservation-card[_ngcontent-%COMP%]{padding:1.5rem}}`]})};var mt=[{path:"",children:[{path:"",component:W},{path:":id",component:Y}]},{path:"reservations",children:[{path:"",component:q}]}];export{mt as EMPLOYEE_ROUTES};
